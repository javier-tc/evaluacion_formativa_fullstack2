<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle del Producto - VinylStore</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="nav-brand">
                <h1><a href="index.html" class="nav-brand-link">VinylStore</a></h1>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Inicio</a></li>
                <li><a href="productos.html" class="nav-link nav-btn">Productos</a></li>
                <li><a href="#contacto" class="nav-link">Contacto</a></li>
                <li><a href="login.html" class="nav-link">Ingresar</a></li>
                <li><a href="registro.html" class="nav-link nav-btn">Registrarse</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="detalle-producto-seccion">
            <div class="detalle-container">
                <div class="detalle-producto" id="detalle-producto">
                    <!--el contenido se cargará dinámicamente con javascript-->
                </div>
            </div>
        </section>

        <section class="productos-relacionados">
            <div class="productos-container">
                <h2>Productos Relacionados</h2>
                <div class="productos-grid">
                    <article class="producto-card">
                        <div class="producto-imagen">
                            <img src="https://cdn.shopify.com/s/files/1/0264/4075/2726/products/abbey-road-beatles-vinyl-record.jpg" alt="Abbey Road">
                            <div class="producto-overlay">
                                <button class="ver-detalle-btn" onclick="verDetalle(7)">Ver Detalle</button>
                            </div>
                        </div>
                        <div class="producto-info">
                            <h3>Abbey Road</h3>
                            <p class="artista">The Beatles</p>
                            <p class="genero">Rock • 1969</p>
                            <span class="precio">$38.000</span>
                            <button class="agregar-carrito-btn">Agregar al Carrito</button>
                        </div>
                    </article>

                    <article class="producto-card">
                        <div class="producto-imagen">
                            <img src="https://cdn.shopify.com/s/files/1/0264/4075/2726/products/thriller-michael-jackson-vinyl-record.jpg" alt="Thriller">
                            <div class="producto-overlay">
                                <button class="ver-detalle-btn" onclick="verDetalle(8)">Ver Detalle</button>
                            </div>
                        </div>
                        <div class="producto-info">
                            <h3>Thriller</h3>
                            <p class="artista">Michael Jackson</p>
                            <p class="genero">Pop • 1982</p>
                            <span class="precio">$45.000</span>
                            <button class="agregar-carrito-btn">Agregar al Carrito</button>
                        </div>
                    </article>

                    <article class="producto-card">
                        <div class="producto-imagen">
                            <img src="https://cdn.shopify.com/s/files/1/0264/4075/2726/products/rumours-fleetwood-mac-vinyl-record.jpg" alt="Rumours">
                            <div class="producto-overlay">
                                <button class="ver-detalle-btn" onclick="verDetalle(9)">Ver Detalle</button>
                            </div>
                        </div>
                        <div class="producto-info">
                            <h3>Rumours</h3>
                            <p class="artista">Fleetwood Mac</p>
                            <p class="genero">Rock • 1977</p>
                            <span class="precio">$33.000</span>
                            <button class="agregar-carrito-btn">Agregar al Carrito</button>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <section id="contacto" class="contacto">
            <h2>Contacto</h2>
            <div class="contacto-info">
                <p>¿Tienes preguntas sobre este producto?</p>
                <p>Email: info@vinylstore.cl</p>
                <p>Teléfono: +56 9 1234 5678</p>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>&copy; 2024 VinylStore. Todos los derechos reservados.</p>
    </footer>

    <script>
        //base de datos de productos
        const productos = {
            1: {
                nombre: "Led Zeppelin IV",
                artista: "Led Zeppelin",
                genero: "Rock",
                año: "1971",
                precio: "$25.000",
                imagen: "https://www.musicworld.cl/img/cms/cd%20vinilos/led%20zeppelin/d2IV.jpg",
                descripcion: "El cuarto álbum de estudio de Led Zeppelin, también conocido como 'Zoso' o 'Four Symbols'. Incluye clásicos como 'Stairway to Heaven', 'Black Dog' y 'Rock and Roll'.",
                canciones: [
                    "Black Dog",
                    "Rock and Roll", 
                    "The Battle of Evermore",
                    "Stairway to Heaven",
                    "Misty Mountain Hop",
                    "Four Sticks",
                    "Going to California",
                    "When the Levee Breaks"
                ],
                duracion: "42:33",
                formato: "Vinilo 12\"",
                condicion: "Nuevo",
                stock: 15,
                etiqueta: "Atlantic Records"
            },
            2: {
                nombre: "Back To Black",
                artista: "Amy Winehouse",
                genero: "Pop",
                año: "2006",
                precio: "$30.000",
                imagen: "https://thesoundofvinyl.us/cdn/shop/products/Amy-Winehouse-Backl-To-Black-1LP-Vinyl.png?v=1661868011&width=1000",
                descripcion: "El segundo y último álbum de estudio de Amy Winehouse. Una obra maestra que combina soul, jazz y R&B con letras profundas y emotivas.",
                canciones: [
                    "Rehab",
                    "You Know I'm No Good",
                    "Me & Mr Jones",
                    "Just Friends",
                    "Back to Black",
                    "Love Is a Losing Game",
                    "Tears Dry on Their Own",
                    "Wake Up Alone",
                    "Some Unholy War",
                    "He Can Only Hold Her",
                    "Addicted"
                ],
                duracion: "35:00",
                formato: "Vinilo 12\"",
                condicion: "Nuevo",
                stock: 8,
                etiqueta: "Island Records"
            },
            3: {
                nombre: "Plastic Beach",
                artista: "Gorillaz",
                genero: "Pop",
                año: "2010",
                precio: "$28.000",
                imagen: "https://cdn.webshopapp.com/shops/13847/files/405053016/gorillaz-plastic-beach-vinyl-2lp.jpg",
                descripcion: "El tercer álbum de estudio de Gorillaz, un proyecto conceptual sobre la contaminación ambiental y la sociedad moderna.",
                canciones: [
                    "Orchestral Intro",
                    "Welcome to the World of the Plastic Beach",
                    "White Flag",
                    "Rhinestone Eyes",
                    "Stylo",
                    "Superfast Jellyfish",
                    "Empire Ants",
                    "Glitter Freeze",
                    "Some Kind of Nature",
                    "On Melancholy Hill",
                    "Broken",
                    "Sweepstakes",
                    "Plastic Beach",
                    "To Binge",
                    "Cloud of Unknowing",
                    "Pirate Jet"
                ],
                duracion: "56:46",
                formato: "Vinilo 12\" Doble LP",
                condicion: "Nuevo",
                stock: 12,
                etiqueta: "Parlophone"
            },
            4: {
                nombre: "Kind of Blue",
                artista: "Miles Davis",
                genero: "Jazz",
                año: "1959",
                precio: "$35.000",
                imagen: "https://cdn.shopify.com/s/files/1/0264/4075/2726/products/kind-of-blue-miles-davis-vinyl-record.jpg",
                descripcion: "Considerado uno de los mejores álbumes de jazz de todos los tiempos. Una obra maestra del jazz modal que revolucionó el género.",
                canciones: [
                    "So What",
                    "Freddie Freeloader",
                    "Blue in Green",
                    "All Blues",
                    "Flamenco Sketches"
                ],
                duracion: "45:44",
                formato: "Vinilo 12\"",
                condicion: "Nuevo",
                stock: 6,
                etiqueta: "Columbia Records"
            },
            5: {
                nombre: "The Dark Side of the Moon",
                artista: "Pink Floyd",
                genero: "Rock",
                año: "1973",
                precio: "$32.000",
                imagen: "https://cdn.shopify.com/s/files/1/0264/4075/2726/products/dark-side-of-the-moon-pink-floyd-vinyl-record.jpg",
                descripcion: "Una de las obras más influyentes del rock progresivo. Un álbum conceptual que explora temas como la locura, el tiempo y la muerte.",
                canciones: [
                    "Speak to Me",
                    "Breathe (In the Air)",
                    "On the Run",
                    "Time",
                    "The Great Gig in the Sky",
                    "Money",
                    "Us and Them",
                    "Any Colour You Like",
                    "Brain Damage",
                    "Eclipse"
                ],
                duracion: "42:49",
                formato: "Vinilo 12\"",
                condicion: "Nuevo",
                stock: 10,
                etiqueta: "Harvest Records"
            },
            6: {
                nombre: "Symphony No. 9",
                artista: "Beethoven",
                genero: "Clásica",
                año: "1824",
                precio: "$40.000",
                imagen: "https://cdn.shopify.com/s/files/1/0264/4075/2726/products/beethoven-symphony-no-9-vinyl-record.jpg",
                descripcion: "La novena sinfonía de Beethoven, también conocida como 'Coral'. Una de las obras más importantes de la música clásica.",
                canciones: [
                    "Allegro ma non troppo, un poco maestoso",
                    "Molto vivace",
                    "Adagio molto e cantabile",
                    "Presto - Allegro assai",
                    "Ode to Joy"
                ],
                duracion: "74:00",
                formato: "Vinilo 12\" Doble LP",
                condicion: "Nuevo",
                stock: 4,
                etiqueta: "Deutsche Grammophon"
            }
        };

        //obtener el id del producto de la url
        const urlParams = new URLSearchParams(window.location.search);
        const productoId = urlParams.get('id');

        //cargar el detalle del producto
        function cargarDetalleProducto() {
            //accedemos al arreglo con el id obtenido
            const producto = productos[productoId];
            if (!producto) {
                //manejo de error en caso de que no exista
                document.getElementById('detalle-producto').innerHTML = '<h2>Producto no encontrado</h2>';
                return;
            }

            //generamos el HTML del detalle del producto
            const detalleHTML = `
                <div class="detalle-imagen">
                    <img src="${producto.imagen}" alt="${producto.nombre}">
                </div>
                <div class="detalle-info">
                    <div class="detalle-header">
                        <h1>${producto.nombre}</h1>
                        <p class="artista-detalle">${producto.artista}</p>
                        <p class="genero-detalle">${producto.genero} • ${producto.año}</p>
                    </div>
                    
                    <div class="detalle-precio">
                        <span class="precio-detalle">${producto.precio}</span>
                        <span class="stock-info">Stock: ${producto.stock} unidades</span>
                    </div>

                    <div class="detalle-descripcion">
                        <h3>Descripción</h3>
                        <p>${producto.descripcion}</p>
                    </div>

                    <div class="detalle-especificaciones">
                        <h3>Especificaciones</h3>
                        <ul>
                            <li><strong>Duración:</strong> ${producto.duracion}</li>
                            <li><strong>Formato:</strong> ${producto.formato}</li>
                            <li><strong>Condición:</strong> ${producto.condicion}</li>
                            <li><strong>Etiqueta:</strong> ${producto.etiqueta}</li>
                        </ul>
                    </div>

                    <div class="detalle-canciones">
                        <h3>Lista de Canciones</h3>
                        <ol>
                            ${producto.canciones.map(cancion => `<li>${cancion}</li>`).join('')}
                        </ol>
                    </div>

                    <div class="detalle-acciones">
                        <div class="cantidad-selector">
                            <label for="cantidad">Cantidad:</label>
                            <select id="cantidad">
                                ${Array.from({length: Math.min(10, producto.stock)}, (_, i) => `<option value="${i + 1}">${i + 1}</option>`).join('')}
                            </select>
                        </div>
                        <button class="comprar-btn" onclick="agregarAlCarrito(${productoId})">Agregar al Carrito</button>
                        <button class="comprar-ahora-btn" onclick="comprarAhora(${productoId})">Comprar Ahora</button>
                    </div>
                </div>
            `;

            document.getElementById('detalle-producto').innerHTML = detalleHTML;
        }

        //funciones para las acciones del carrito
        function agregarAlCarrito(productoId) {
            const producto = productos[productoId];
            const cantidad = document.getElementById('cantidad').value;
            alert(`¡${cantidad} ${cantidad > 1 ? 'copias' : 'copia'} de "${producto.nombre}" agregada${cantidad > 1 ? 's' : ''} al carrito!`);
        }

        function comprarAhora(productoId) {
            const producto = productos[productoId];
            const cantidad = document.getElementById('cantidad').value;
            alert(`Redirigiendo al checkout para comprar ${cantidad} ${cantidad > 1 ? 'copias' : 'copia'} de "${producto.nombre}"`);
        }

        //función para ver detalle de productos relacionados
        function verDetalle(productoId) {
            window.location.href = `detalle-producto.html?id=${productoId}`;
        }

        //cargar el detalle cuando la página esté lista
        document.addEventListener('DOMContentLoaded', cargarDetalleProducto);
    </script>
</body>
</html>
